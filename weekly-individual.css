.content-area {
    flex-grow: 1; 
    padding: 20px;
    overflow-x: auto; 
}
.proatlet-container {
    max-width: 100%; 
    margin: 0 auto;
    padding: 0;
}
h2 {
    color: #FFD700; 
    border-bottom: 2px solid #3A3A3A;
    padding-bottom: 10px;
    margin-bottom: 20px;
}

/* ========================================= */
/* 2. –°–¢–ò–õ–Ü –¢–ê–ë–õ–ò–¶–Ü –ú–Ü–ö–†–û–¶–ò–ö–õ–£ (–ö–û–ú–ü–ê–ö–¢–ù–Ü–°–¢–¨) */
/* ========================================= */
.microcycle-table {
    width: 100%; 
    border-collapse: collapse;
    table-layout: fixed; 
    margin-bottom: 30px;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.1); 
}
.microcycle-table th,
.microcycle-table td {
    width: calc(100% / 7); 
    padding: 8px 5px; 
    border: 1px solid #333333;
    text-align: center;
}

.microcycle-table thead th {
    background-color: #2A2A2A; 
    color: #FFD700; 
    font-size: 0.9em; 
}

/* –§–æ–Ω –∫–ª—ñ—Ç–∏–Ω–∫–∏ TD (–ù–µ–π—Ç—Ä–∞–ª—å–Ω–∏–π) */
.microcycle-table tbody td {
    background-color: #222222; 
}

/* SPAN, —è–∫–∏–π —Ñ–∞—Ä–±—É—î—Ç—å—Å—è */
.md-status {
    display: block;
    padding: 4px;
    border-radius: 4px;
    transition: background-color 0.3s;
    /* –û—Å–Ω–æ–≤–Ω–∏–π —Å—Ç–∏–ª—å —Ç–µ–∫—Å—Ç—É, —è–∫–∏–π –ø–µ—Ä–µ–±–∏–≤–∞—î—Ç—å—Å—è –∫–æ–ª—å–æ—Ä–æ–≤–∏–º–∏ –∫–ª–∞—Å–∞–º–∏ */
    color: #FFFFFF; 
}

/* ========================================= */
/* 3. –ö–û–õ–¨–û–†–ò –°–¢–ê–¢–£–°–Ü–í (MD+X) - –∑ !important */
/* –ö–ª–∞—Å–∏ –Ω–∞—Ü—ñ–ª–µ–Ω—ñ –Ω–∞ .md-status */
/* ========================================= */
.md-status.color-red { background-color: #D9534F !important; color: white !important; }
.md-status.color-dark-green { background-color: #1E8449 !important; color: white !important; }
.md-status.color-green { background-color: #4CAF50 !important; color: white !important; }
.md-status.color-yellow { background-color: #FFC107 !important; color: black !important; }
.md-status.color-deep-green { background-color: #008080 !important; color: white !important; }
.md-status.color-orange { background-color: #FF9800 !important; color: white !important; }
.md-status.color-blue { background-color: #007bff !important; color: white !important; }
.md-status.color-neutral { background-color: #2A2A2A !important; color: #CCCCCC !important; }


/* ========================================= */
/* 4. –°–¢–ò–õ–Ü –§–û–†–ú –¢–ê –ö–ù–û–ü–û–ö */
/* ========================================= */
input[type="text"], input[type="number"], select {
    width: 100%;
    padding: 8px;
    margin-bottom: 15px;
    border: 1px solid #FFD700; 
    background-color: #1A1A1A;
    color: #FFD700;
    box-sizing: border-box;
}
.save-button {
    background-color: #FFD700; 
    color: #1A1A1A;
    padding: 10px 20px;
    border: none;
    cursor: pointer;
    font-size: 1.1em;
    font-weight: bold;
    border-radius: 5px;
    margin-top: 20px;
    transition: background-color 0.2s;
}
.save-button:hover {
    background-color: #E6C300;
}
3. üß† weekly_plan_logic.js (–§—ñ–Ω–∞–ª—å–Ω–∏–π JavaScript)
–¶–µ–π JS –º—ñ—Å—Ç–∏—Ç—å –æ—Å—Ç–∞—Ç–æ—á–Ω—É –ª–æ–≥—ñ–∫—É, —è–∫–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –∫–æ–ª—ñ—Ä–Ω—ñ –∫–ª–∞—Å–∏ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –¥–æ mdStatusElement (SPAN).

JavaScript

// =========================================================
// weekly_plan_logic.js - –õ–û–ì–Ü–ö–ê –ö–ê–õ–ï–ù–î–ê–†–Ø –ú–Ü–ö–†–û–¶–ò–ö–õ–£
// =========================================================

// –ú–ê–ü–ê –ö–û–õ–¨–û–†–Ü–í –¢–ê –°–¢–ê–¢–£–°–Ü–í MD+X / MD-X
const COLOR_MAP = {
    'MD': { status: 'MD', colorClass: 'color-red' },
    'MD+1': { status: 'MD+1', colorClass: 'color-dark-green' }, 
    'MD+2': { status: 'MD+2', colorClass: 'color-green' }, 
    'MD+3': { status: 'MD+3', colorClass: 'color-neutral' }, 
    
    'MD-1': { status: 'MD-1', colorClass: 'color-yellow' }, 
    'MD-2': { status: 'MD-2', colorClass: 'color-deep-green' }, 
    'MD-3': { status: 'MD-3', colorClass: 'color-orange' }, 
    'MD-4': { status: 'MD-4', colorClass: 'color-blue' }, 
    'REST': { status: 'REST', colorClass: 'color-neutral' }, 
};

document.addEventListener('DOMContentLoaded', () => {
    const activitySelects = document.querySelectorAll('.activity-type-select');
    const dynamicMatchFields = document.getElementById('dynamic-match-fields');
    const dayCells = document.querySelectorAll('#md-colors-row .cycle-day');

    // === 1. –û–ë–†–û–ë–ù–ò–ö–ò –ü–û–î–Ü–ô ===

    activitySelects.forEach(select => {
        select.addEventListener('change', (event) => {
            const dayIndex = event.target.closest('td').dataset.dayIndex;
            
            updateCycleColors(); 
            updateMatchDetails(dayIndex, event.target.value); 
        });
    });

    // === 2. –§–£–ù–ö–¶–Ü–Ø –î–õ–Ø –î–ï–¢–ê–õ–ï–ô –ú–ê–¢–ß–£ ===
    
    function updateMatchDetails(dayIndex, activityType) {
        const existingBlock = dynamicMatchFields.querySelector(`.match-detail-block[data-day-index="${dayIndex}"]`);
        
        const dayNames = ['–ü–æ–Ω–µ–¥—ñ–ª–æ–∫', '–í—ñ–≤—Ç–æ—Ä–æ–∫', '–°–µ—Ä–µ–¥–∞', '–ß–µ—Ç–≤–µ—Ä', '–ü‚Äô—è—Ç–Ω–∏—Ü—è', '–°—É–±–æ—Ç–∞', '–ù–µ–¥—ñ–ª—è'];
        const dayName = dayNames[dayIndex];

        if (activityType === 'MATCH' && !existingBlock) {
            const detailsHTML = `
                <div class="match-detail-block" data-day-index="${dayIndex}">
                    <h4>–î–µ–Ω—å ${dayIndex * 1 + 1}: ${dayName} (–ú–∞—Ç—á)</h4>
                    <label>–°—É–ø–µ—Ä–Ω–∏–∫:</label>
                    <input type="text" name="opponent_${dayIndex}" required>
                    <label>–ú—ñ—Å—Ü–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è:</label>
                    <select name="venue_${dayIndex}">
                        <option value="Home">–í–¥–æ–º–∞</option>
                        <option value="Away">–ù–∞ –≤–∏—ó–∑–¥—ñ</option>
                    </select>
                    <label>–í—ñ–¥—Å—Ç–∞–Ω—å –ø–æ—ó–∑–¥–∫–∏ (–∫–º):</label>
                    <input type="number" name="travel_km_${dayIndex}" value="0" min="0">
                </div>
            `;
            dynamicMatchFields.insertAdjacentHTML('beforeend', detailsHTML);
            
        } else if (activityType !== 'MATCH' && existingBlock) {
            existingBlock.remove();
        }
    }


    // === 3. –û–°–ù–û–í–ù–ê –õ–û–ì–Ü–ö–ê –†–û–ó–†–ê–•–£–ù–ö–£ MD+X/MD-X —Ç–∞ –ö–û–õ–¨–û–†–Ü–í ===

    function updateCycleColors() {
        const matchDays = [];
        activitySelects.forEach((select, index) => {
            if (select.value === 'MATCH') {
                matchDays.push(index); 
            }
        });

        // 3.1. –Ü—Ç–µ—Ä—É—î–º–æ –ø–æ –∫–æ–∂–Ω–æ–º—É –¥–Ω—é
        dayCells.forEach((cell, index) => {
            const mdStatusElement = cell.querySelector('.md-status');
            let statusKey = 'REST'; 

            if (matchDays.includes(index)) {
                statusKey = 'MD';
            } else if (matchDays.length > 0) {
                let minDistance = 7; 
                let isPostMatch = false; 

                matchDays.forEach(mdIndex => {
                    let distance = (index - mdIndex + 7) % 7; 

                    if (distance > 0) { 
                        if (distance <= 3) { 
                            if (distance < minDistance) {
                                minDistance = distance;
                                isPostMatch = true;
                            }
                        } else if (distance >= 4) { 
                            let daysToMatch = 7 - distance; 
                            if (daysToMatch < minDistance) {
                                minDistance = daysToMatch;
                                isPostMatch = false;
                            }
                        }
                    }
                });

                if (minDistance <= 4) { 
                    statusKey = isPostMatch ? `MD+${minDistance}` : `MD-${minDistance}`;
                }
            }

            // 3.2. –ó–ê–°–¢–û–°–£–í–ê–ù–ù–Ø –°–¢–ò–õ–Ü–í (–ö–†–ò–¢–ò–ß–ù–ê –î–Ü–õ–Ø–ù–ö–ê)
            const style = COLOR_MAP[statusKey];
            mdStatusElement.textContent = style.status;
            
            // –í–∏–¥–∞–ª—è—î–º–æ –≤—Å—ñ –∫–ª–∞—Å–∏ –∫–æ–ª—å–æ—Ä—ñ–≤, —â–æ —ñ—Å–Ω—É—é—Ç—å, –∑ SPAN
            Object.values(COLOR_MAP).forEach(map => mdStatusElement.classList.remove(map.colorClass)); 
            
            // –î–æ–¥–∞—î–º–æ –Ω–æ–≤–∏–π –∫–ª–∞—Å –¥–æ SPAN
            mdStatusElement.classList.add(style.colorClass); 

            cell.title = `–§–∞–∑–∞: ${style.status}`; 
        });
    }

    // –ü–æ—á–∞—Ç–∫–æ–≤–∏–π –∑–∞–ø—É—Å–∫ –ª–æ–≥—ñ–∫–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
    updateCycleColors(); 
});
